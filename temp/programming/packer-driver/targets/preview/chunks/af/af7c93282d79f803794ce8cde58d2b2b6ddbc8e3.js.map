{"version":3,"sources":["file:///C:/Users/admin/NewProject_18/assets/Scripts/External/immer/core/proxy.ts"],"names":["createProxyProxy","base","parent","isArray","Array","state","type_","ProxyTypeProxyObject","scope_","modified_","finalized_","assigned_","parent_","base_","draft_","drafts_","copy_","revoke_","isManual_","target","traps","objectTraps","arrayTraps","revoke","proxy","Proxy","revocable","peek","draft","prop","desc","Reflect","getOwnPropertyDescriptor","value","markChangedProxy","copy","key","undefined","prepareCopy","each","has","is","isDraftable","shallowCopy","latest","getCurrentScope","DRAFT_STATE","die","createProxy","ProxyTypeProxyArray","get","drafts","immer_","ownKeys","set","baseValue","isUnchanged","deleteProperty","owner","writable","configurable","defineProperty","getPrototypeOf","Object","setPrototypeOf","fn","arguments","apply","__DEV__","isNaN","parseInt","call"],"mappings":"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","sourcesContent":["\"use strict\"\nimport {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\tdrafts_?: {\n\t\t[property: string]: Drafted<any, any>\n\t}\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyObject\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyTypeProxyArray : (ProxyTypeProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// Any property proxies.\n\t\tdrafts_: {},\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nconst objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\t\tlet {drafts_: drafts} = state\n\n\t\t// Check for existing draft in unmodified state.\n\t\tif (!state.modified_ && has(drafts, prop)) {\n\t\t\treturn drafts![prop as any]\n\t\t}\n\n\t\tconst value = latest(state)[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\n\t\t// Check for existing draft in modified state.\n\t\tif (state.modified_) {\n\t\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\t\tif (value !== peek(state.base_, prop)) return value\n\t\t\t// Store drafts on the copy (when one exists).\n\t\t\t// @ts-ignore\n\t\t\tdrafts = state.copy_\n\t\t}\n\n\t\treturn (drafts![prop as any] = createProxy(\n\t\t\tstate.scope_.immer_,\n\t\t\tvalue,\n\t\t\tstate\n\t\t))\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(state, prop: string /* strictly not, but helps TS */, value) {\n\t\tif (!state.modified_) {\n\t\t\tconst baseValue = peek(state.base_, prop)\n\t\t\t// Optimize based on value's truthiness. Truthy values are guaranteed to\n\t\t\t// never be undefined, so we can avoid the `in` operator. Lastly, truthy\n\t\t\t// values may be drafts, but falsy values are never drafts.\n\t\t\tconst isUnchanged = value\n\t\t\t\t? is(baseValue, value) || value === state.drafts_![prop]\n\t\t\t\t: is(baseValue, value) && prop in state.base_\n\t\t\tif (isUnchanged) return true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChangedProxy(state)\n\t\t}\n\t\tstate.assigned_[prop] = true\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChangedProxy(state)\n\t\t} else if (state.assigned_[prop]) {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (desc) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable =\n\t\t\t\tstate.type_ !== ProxyTypeProxyArray || prop !== \"length\"\n\t\t}\n\t\treturn desc\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n/**\n * Map drafts\n */\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey): any {\n\tconst state = draft[DRAFT_STATE]\n\tconst desc = Reflect.getOwnPropertyDescriptor(\n\t\tstate ? latest(state) : draft,\n\t\tprop\n\t)\n\treturn desc && desc.value\n}\n\nexport function markChangedProxy(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (\n\t\t\tstate.type_ === ProxyTypeProxyObject ||\n\t\t\tstate.type_ === ProxyTypeProxyArray\n\t\t) {\n\t\t\tconst copy = (state.copy_ = shallowCopy(state.base_))\n\t\t\teach(state.drafts_!, (key, value) => {\n\t\t\t\t// @ts-ignore\n\t\t\t\tcopy[key] = value\n\t\t\t})\n\t\t\tstate.drafts_ = undefined\n\t\t}\n\n\t\tif (state.parent_) {\n\t\t\tmarkChangedProxy(state.parent_)\n\t\t}\n\t}\n}\n\nfunction prepareCopy(state: ProxyState) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n"]}