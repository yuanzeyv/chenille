{"version":3,"sources":["file:///C:/Users/YzY/Documents/chenille-main/assets/Scripts/Prefab/BoxSpritePrefab.ts"],"names":["_decorator","Component","Sprite","SpriteFrame","ccclass","property","BoxSpritePrefab","type","Number","displayName","tooltip","min","max","step","Boolean","CloseImage","OpenImage","FrontBoxType","FrontBoxStatus","start","IsChangeStatus","BoxStatus","ChangeStatus","IsChangeType","BoxType","ChangeType","SpriteOpenArr","SpriteCloseArr","ImageSprite","spriteFrame","update","deltaTime","Array"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAkBC,MAAAA,W,OAAAA,W;;;;;;;;;OAClD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;iCAGjBM,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAACC,MADC;AAENC,QAAAA,WAAW,EAAC,MAFN;AAGNC,QAAAA,OAAO,EAAC,UAHF;AAINC,QAAAA,GAAG,EAAC,CAJE;AAKNC,QAAAA,GAAG,EAAC,CALE;AAMNC,QAAAA,IAAI,EAAC;AANC,OAAD,C,UASRR,QAAQ,CAACH,MAAD,C,UAERG,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAACO,OADC;AAENL,QAAAA,WAAW,EAAC;AAFN,OAAD,C,UAMRJ,QAAQ,CAACF,WAAD,C,UAERE,QAAQ,CAACF,WAAD,C,2BArBb,MACaG,eADb,SACqCL,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAuB3Cc,UAvB2C,GAuBlB,IAvBkB;AAAA,eAwB3CC,SAxB2C,GAwBnB,IAxBmB;AAAA,eA0B3CC,YA1B2C,GA0BrB,CA1BqB;AAAA,eA2B3CC,cA3B2C,GA2BlB,IA3BkB;AAAA;;AA2Bb;AAC9BC,QAAAA,KAAK,GAAG,CACP;;AACDC,QAAAA,cAAc,GAAE;AACZ,cAAG,KAAKF,cAAL,IAAuB,KAAKG,SAA/B,EAAyC;AACrC,iBAAKC,YAAL,GADqC,CACjB;AACvB;AACJ;;AACDC,QAAAA,YAAY,GAAE;AACV,cAAG,KAAKN,YAAL,IAAqB,KAAKO,OAA7B,EAAqC;AACjC,iBAAKC,UAAL,GADiC,CACf;;AAClB,iBAAKH,YAAL,GAFiC,CAEb;AACvB;AACJ;;AACDG,QAAAA,UAAU,GAAE;AAER,eAAKT,SAAL,GAAiB,KAAKU,aAAL,CAAmB,KAAKF,OAAxB,CAAjB;AACA,eAAKT,UAAL,GAAkB,KAAKY,cAAL,CAAoB,KAAKH,OAAzB,CAAlB;AACA,eAAKP,YAAL,GAAoB,KAAKO,OAAzB;AACH;;AACDF,QAAAA,YAAY,GAAE;AACV,eAAKM,WAAL,CAAiBC,WAAjB,GAA+B,KAAKR,SAAL,GAAiB,KAAKL,SAAtB,GAAkC,KAAKD,UAAtE;AACA,eAAKG,cAAL,GAAsB,KAAKG,SAA3B;AACH;;AACDS,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,eAAKR,YAAL;AACA,eAAKH,cAAL;AACH;;AAtD0C,O;;;;;iBAS1B,C;;;;;;;iBAEI,I;;;;;;;iBAKD,K;;;;;;;iBAGUY,KAAK,E;;;;;;;iBAEJA,KAAK,E","sourcesContent":["import { _decorator, Component, Node, Sprite, CCObject, SpriteFrame, find, resources, Texture2D } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BoxSpritePrefab')\r\nexport class BoxSpritePrefab extends Component {\r\n    @property({\r\n        type:Number,    \r\n        displayName:\"图片类型\",\r\n        tooltip:\"用于显示宝箱图片\",\r\n        min:1,\r\n        max:4,\r\n        step:1,\r\n    })\r\n    BoxType:number = 1;\r\n    @property(Sprite)\r\n    ImageSprite:Sprite = null;  \r\n    @property({\r\n        type:Boolean,    \r\n        displayName:\"宝箱状态\",  \r\n    }) \r\n    BoxStatus:Boolean = false;//默认为关闭状态\r\n\r\n    @property(SpriteFrame)\r\n    SpriteOpenArr:SpriteFrame[] = Array<SpriteFrame>();\r\n    @property(SpriteFrame)\r\n    SpriteCloseArr:SpriteFrame[] = Array<SpriteFrame>();\r\n\r\n    CloseImage:SpriteFrame = null;\r\n    OpenImage:SpriteFrame = null;\r\n\r\n    FrontBoxType:number = 0;//前一帧盒子类型\r\n    FrontBoxStatus:Boolean = true;//前一帧盒子状态\r\n    start() { \r\n    }\r\n    IsChangeStatus(){\r\n        if(this.FrontBoxStatus != this.BoxStatus){\r\n            this.ChangeStatus();//改变一下当前的状态\r\n        }\r\n    }\r\n    IsChangeType(){ \r\n        if(this.FrontBoxType != this.BoxType){\r\n            this.ChangeType();//改变一下当前的类型\r\n            this.ChangeStatus();//改变一下当前的状态\r\n        }\r\n    }\r\n    ChangeType(){\r\n        \r\n        this.OpenImage = this.SpriteOpenArr[this.BoxType];\r\n        this.CloseImage = this.SpriteCloseArr[this.BoxType];\r\n        this.FrontBoxType = this.BoxType;\r\n    }\r\n    ChangeStatus(){ \r\n        this.ImageSprite.spriteFrame = this.BoxStatus ? this.OpenImage : this.CloseImage;\r\n        this.FrontBoxStatus = this.BoxStatus;\r\n    }\r\n    update(deltaTime: number) {\r\n        this.IsChangeType();\r\n        this.IsChangeStatus();\r\n    }\r\n}"]}