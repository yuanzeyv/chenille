{"version":3,"sources":["file:///C:/Users/admin/NewProject_18/assets/Scripts/External/immer/dist/immer.umd.development.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","global","factory","amd","self","immer","_ref","hasSymbol","Symbol","hasMap","Map","hasSet","Set","hasProxies","Proxy","revocable","Reflect","NOTHING","DRAFTABLE","DRAFT_STATE","iteratorSymbol","iterator","errors","_","data","path","op","plugin","die","error","_len","arguments","length","args","Array","_key","e","msg","apply","Error","ArchtypeObject","ArchtypeArray","ArchtypeMap","ArchtypeSet","ProxyTypeProxyObject","ProxyTypeProxyArray","ProxyTypeES5Object","ProxyTypeES5Array","ProxyTypeMap","ProxyTypeSet","isDraft","value","isDraftable","isPlainObject","isArray","constructor","isMap","isSet","proto","Object","getPrototypeOf","prototype","original","base_","ownKeys","getOwnPropertySymbols","obj","getOwnPropertyNames","concat","each","iter","enumerableOnly","getArchtype","keys","forEach","key","entry","index","thing","state","type_","has","prop","hasOwnProperty","call","get","set","propOrOldValue","t","delete","add","is","x","y","target","latest","copy_","shallowCopy","base","invokeGetters","slice","clone","create","desc","getOwnPropertyDescriptor","enumerable","defineProperty","writable","configurable","freeze","deep","isFrozen","clear","dontMutateFrozenCollections","plugins","getPlugin","pluginKey","loadPlugin","implementation","currentScope","getCurrentScope","createScope","parent_","immer_","drafts_","canAutoFreeze_","unfinalizedDrafts_","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","revokeDraft","enterScope","draft","revoke_","revoked_","processResult","result","baseDraft","isReplaced","undefined","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","rootScope","childValue","finalizeProperty","scope_","finalized_","draft_","generatePatches_","parentState","targetObject","rootPath","assigned_","res","autoFreeze_","createProxyProxy","parent","isManual_","traps","objectTraps","arrayTraps","_Proxy$revocable","revoke","proxy","drafts","peek","createProxy","baseValue","isUnchanged","prepareCopy","markChangedProxy","deleteProperty","owner","setPrototypeOf","fn","isNaN","parseInt","copy","Immer","config","useProxies","setUseProxies","autoFreeze","setAutoFreeze","produce","bind","produceWithPatches","_proto","recipe","defaultBase","curriedProduce","_this","_recipe","hasError","Promise","then","arg1","arg2","arg3","_this2","_len2","_key2","patches","inversePatches","nextState","p","ip","createDraft","finishDraft","applyPatches","i","patch","applyPatchesImpl","applyPatches_","proxyMap_","proxySet_","createES5Proxy_","push","markChanged","markChangedES5_","enableES5","finalizing_","markChangesRecursively","markChangesSweep","clonePotentialDraft","proxyProperty","isEnumerable","_get","assertUnrevoked","_set","descriptors","hasArrayChanges","hasObjectChanges","object","_i","min","Math","_i2","_state","descriptor","JSON","stringify","enablePatches","REPLACE","ADD","REMOVE","basePath","generatePatchesFromAssigned","generateArrayPatches","generateSetPatches","_ref2","delta","start","end","clonePatchValueIfNeeded","replaceCount","_path","assignedValue","origValue","unshift","rootState","replacement","join","type","deepClonePatchValue","splice","map","from","entries","_ref3","k","v","cloned","enableMapSet","_extendStatics","extendStatics","d","b","__proto__","__extends","__","DraftMap","_super","size","prepareMapCopy","cb","thisArg","_value","_map","values","next","r","done","_this3","DraftSet","prepareSetCopy","enableAllPlugins","castDraft","castImmutable","default","immerable","nothing","_cjsExports","_Immer","_applyPatches","_castDraft","_castImmutable","_createDraft","_default","_enableAllPlugins","_enableES5","_enableMapSet","_enablePatches","_finishDraft","_immerable","_isDraft","_isDraftable","_nothing","_original","_produce","_produceWithPatches","_setAutoFreeze","_setUseProxies","___esModule","__esModule"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet _Immer;\nlet _applyPatches;\nlet _castDraft;\nlet _castImmutable;\nlet _createDraft;\nlet _default;\nlet _enableAllPlugins;\nlet _enableES5;\nlet _enableMapSet;\nlet _enablePatches;\nlet _finishDraft;\nlet _immerable;\nlet _isDraft;\nlet _isDraftable;\nlet _nothing;\nlet _original;\nlet _produce;\nlet _produceWithPatches;\nlet _setAutoFreeze;\nlet _setUseProxies;\nlet ___esModule;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n (function (global, factory) {\n \ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n \ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n \t(global = global || self, factory(global.immer = {}));\n }(this, (function (exports) { 'use strict';\n\n \tvar _ref;\n\n \t// Should be no imports here!\n \t// Some things that should be evaluated before all else...\n \t// We only want to know if non-polyfilled symbols are available\n \tvar hasSymbol = typeof Symbol !== \"undefined\" && typeof\n \t/*#__PURE__*/\n \tSymbol(\"x\") === \"symbol\";\n \tvar hasMap = typeof Map !== \"undefined\";\n \tvar hasSet = typeof Set !== \"undefined\";\n \tvar hasProxies = typeof Proxy !== \"undefined\" && typeof Proxy.revocable !== \"undefined\" && typeof Reflect !== \"undefined\";\n \t/**\r\n \t * The sentinel value returned by producers to replace the draft with undefined.\r\n \t */\n\n \tvar NOTHING = hasSymbol ?\n \t/*#__PURE__*/\n \tSymbol(\"immer-nothing\") : (_ref = {}, _ref[\"immer-nothing\"] = true, _ref);\n \t/**\r\n \t * To let Immer treat your class instances as plain immutable objects\r\n \t * (albeit with a custom prototype), you must define either an instance property\r\n \t * or a static property on each of your custom classes.\r\n \t *\r\n \t * Otherwise, your class instance will never be drafted, which means it won't be\r\n \t * safe to mutate in a produce callback.\r\n \t */\n\n \tvar DRAFTABLE = hasSymbol ?\n \t/*#__PURE__*/\n \tSymbol(\"immer-draftable\") : \"__$immer_draftable\";\n \tvar DRAFT_STATE = hasSymbol ?\n \t/*#__PURE__*/\n \tSymbol(\"immer-state\") : \"__$immer_state\"; // Even a polyfilled Symbol might provide Symbol.iterator\n\n \tvar iteratorSymbol = typeof Symbol != \"undefined\" && Symbol.iterator || \"@@iterator\";\n\n \tvar errors = {\n \t  0: \"Illegal state\",\n \t  1: \"Immer drafts cannot have computed properties\",\n \t  2: \"This object has been frozen and should not be mutated\",\n \t  3: function _(data) {\n \t    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n \t  },\n \t  4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n \t  5: \"Immer forbids circular references\",\n \t  6: \"The first or second argument to `produce` must be a function\",\n \t  7: \"The third argument to `produce` must be a function or undefined\",\n \t  8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n \t  9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n \t  10: \"The given draft is already finalized\",\n \t  11: \"Object.defineProperty() cannot be used on an Immer draft\",\n \t  12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n \t  13: \"Immer only supports deleting array indices\",\n \t  14: \"Immer only supports setting array indices and the 'length' property\",\n \t  15: function _(path) {\n \t    return \"Cannot apply patch, path doesn't resolve: \" + path;\n \t  },\n \t  16: 'Sets cannot have \"replace\" patches.',\n \t  17: function _(op) {\n \t    return \"Unsupported patch operation: \" + op;\n \t  },\n \t  18: function _(plugin) {\n \t    return \"The plugin for '\" + plugin + \"' has not been loaded into Immer. To enable the plugin, import and call `enable\" + plugin + \"()` when initializing your application.\";\n \t  },\n \t  19: function _(plugin) {\n \t    return \"plugin not loaded: \" + plugin;\n \t  },\n \t  20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\"\n \t};\n \tfunction die(error) {\n \t  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n \t    args[_key - 1] = arguments[_key];\n \t  }\n\n \t  {\n \t    var e = errors[error];\n \t    var msg = !e ? \"unknown error nr: \" + error : typeof e === \"function\" ? e.apply(null, args) : e;\n \t    throw new Error(\"[Immer] \" + msg);\n \t  }\n \t}\n\n \tvar ArchtypeObject = 0;\n \tvar ArchtypeArray = 1;\n \tvar ArchtypeMap = 2;\n \tvar ArchtypeSet = 3;\n \tvar ProxyTypeProxyObject = 0;\n \tvar ProxyTypeProxyArray = 1;\n \tvar ProxyTypeES5Object = 4;\n \tvar ProxyTypeES5Array = 5;\n \tvar ProxyTypeMap = 2;\n \tvar ProxyTypeSet = 3;\n\n \t/** Returns true if the given value is an Immer draft */\n\n \t/*#__PURE__*/\n\n \tfunction isDraft(value) {\n \t  return !!value && !!value[DRAFT_STATE];\n \t}\n \t/** Returns true if the given value can be drafted by Immer */\n\n \t/*#__PURE__*/\n\n \tfunction isDraftable(value) {\n \t  if (!value) return false;\n \t  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE] || isMap(value) || isSet(value);\n \t}\n \t/*#__PURE__*/\n\n \tfunction isPlainObject(value) {\n \t  if (!value || typeof value !== \"object\") return false;\n \t  var proto = Object.getPrototypeOf(value);\n \t  return !proto || proto === Object.prototype;\n \t}\n \tfunction original(value) {\n \t  if (value && value[DRAFT_STATE]) {\n \t    return value[DRAFT_STATE].base_;\n \t  } // otherwise return undefined\n\n \t}\n \t/*#__PURE__*/\n\n \tvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : typeof Object.getOwnPropertySymbols !== \"undefined\" ? function (obj) {\n \t  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n \t} :\n \t/* istanbul ignore next */\n \tObject.getOwnPropertyNames;\n \tfunction each(obj, iter, enumerableOnly) {\n \t  if (enumerableOnly === void 0) {\n \t    enumerableOnly = false;\n \t  }\n\n \t  if (getArchtype(obj) === ArchtypeObject) {\n \t    (enumerableOnly ? Object.keys : ownKeys)(obj).forEach(function (key) {\n \t      return iter(key, obj[key], obj);\n \t    });\n \t  } else {\n \t    obj.forEach(function (entry, index) {\n \t      return iter(index, entry, obj);\n \t    });\n \t  }\n \t}\n \t/*#__PURE__*/\n\n \tfunction getArchtype(thing) {\n \t  /* istanbul ignore next */\n \t  var state = thing[DRAFT_STATE];\n \t  return state ? state.type_ > 3 ? state.type_ - 4 // cause Object and Array map back from 4 and 5\n \t  : state.type_ // others are the same\n \t  : Array.isArray(thing) ? ArchtypeArray : isMap(thing) ? ArchtypeMap : isSet(thing) ? ArchtypeSet : ArchtypeObject;\n \t}\n \t/*#__PURE__*/\n\n \tfunction has(thing, prop) {\n \t  return getArchtype(thing) === ArchtypeMap ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n \t}\n \t/*#__PURE__*/\n\n \tfunction get(thing, prop) {\n \t  // @ts-ignore\n \t  return getArchtype(thing) === ArchtypeMap ? thing.get(prop) : thing[prop];\n \t}\n \t/*#__PURE__*/\n\n \tfunction set(thing, propOrOldValue, value) {\n \t  var t = getArchtype(thing);\n \t  if (t === ArchtypeMap) thing.set(propOrOldValue, value);else if (t === ArchtypeSet) {\n \t    thing.delete(propOrOldValue);\n \t    thing.add(value);\n \t  } else thing[propOrOldValue] = value;\n \t}\n \t/*#__PURE__*/\n\n \tfunction is(x, y) {\n \t  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n \t  if (x === y) {\n \t    return x !== 0 || 1 / x === 1 / y;\n \t  } else {\n \t    return x !== x && y !== y;\n \t  }\n \t}\n \t/*#__PURE__*/\n\n \tfunction isMap(target) {\n \t  return hasMap && target instanceof Map;\n \t}\n \t/*#__PURE__*/\n\n \tfunction isSet(target) {\n \t  return hasSet && target instanceof Set;\n \t}\n \t/*#__PURE__*/\n\n \tfunction latest(state) {\n \t  return state.copy_ || state.base_;\n \t}\n \tfunction shallowCopy(base, invokeGetters) {\n \t  if (invokeGetters === void 0) {\n \t    invokeGetters = false;\n \t  }\n\n \t  if (Array.isArray(base)) return base.slice();\n \t  var clone = Object.create(Object.getPrototypeOf(base));\n \t  each(base, function (key) {\n \t    if (key === DRAFT_STATE) {\n \t      return; // Never copy over draft state.\n \t    }\n\n \t    var desc = Object.getOwnPropertyDescriptor(base, key);\n \t    var value = desc.value;\n\n \t    if (desc.get) {\n \t      if (!invokeGetters) die(1);\n \t      value = desc.get.call(base);\n \t    }\n\n \t    if (desc.enumerable) {\n \t      clone[key] = value;\n \t    } else {\n \t      Object.defineProperty(clone, key, {\n \t        value: value,\n \t        writable: true,\n \t        configurable: true\n \t      });\n \t    }\n \t  });\n \t  return clone;\n \t}\n \tfunction freeze(obj, deep) {\n \t  if (isDraft(obj) || isFrozen(obj) || !isDraftable(obj)) return;\n\n \t  if (getArchtype(obj) > 1\n \t  /* Map or Set */\n \t  ) {\n \t      obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n \t    }\n\n \t  Object.freeze(obj);\n \t  if (deep) each(obj, function (key, value) {\n \t    return freeze(value, true);\n \t  }, true);\n \t}\n\n \tfunction dontMutateFrozenCollections() {\n \t  die(2);\n \t}\n\n \tfunction isFrozen(obj) {\n \t  if (obj == null || typeof obj !== \"object\") return true; // See #600, IE dies on non-objects in Object.isFrozen\n\n \t  return Object.isFrozen(obj);\n \t}\n\n \t/** Plugin utilities */\n\n \tvar plugins = {};\n \tfunction getPlugin(pluginKey) {\n \t  var plugin = plugins[pluginKey];\n\n \t  if (!plugin) {\n \t    die( 18 , pluginKey);\n \t  } // @ts-ignore\n\n\n \t  return plugin;\n \t}\n \tfunction loadPlugin(pluginKey, implementation) {\n \t  plugins[pluginKey] = implementation;\n \t}\n\n \tvar currentScope;\n \tfunction getCurrentScope() {\n \t  if ( !currentScope) die(0);\n \t  return currentScope;\n \t}\n\n \tfunction createScope(parent_, immer_) {\n \t  return {\n \t    drafts_: [],\n \t    parent_: parent_,\n \t    immer_: immer_,\n \t    // Whenever the modified draft contains a draft from another scope, we\n \t    // need to prevent auto-freezing so the unowned draft can be finalized.\n \t    canAutoFreeze_: true,\n \t    unfinalizedDrafts_: 0\n \t  };\n \t}\n\n \tfunction usePatchesInScope(scope, patchListener) {\n \t  if (patchListener) {\n \t    getPlugin(\"Patches\"); // assert we have the plugin\n\n \t    scope.patches_ = [];\n \t    scope.inversePatches_ = [];\n \t    scope.patchListener_ = patchListener;\n \t  }\n \t}\n \tfunction revokeScope(scope) {\n \t  leaveScope(scope);\n \t  scope.drafts_.forEach(revokeDraft); // @ts-ignore\n\n \t  scope.drafts_ = null;\n \t}\n \tfunction leaveScope(scope) {\n \t  if (scope === currentScope) {\n \t    currentScope = scope.parent_;\n \t  }\n \t}\n \tfunction enterScope(immer) {\n \t  return currentScope = createScope(currentScope, immer);\n \t}\n\n \tfunction revokeDraft(draft) {\n \t  var state = draft[DRAFT_STATE];\n \t  if (state.type_ === ProxyTypeProxyObject || state.type_ === ProxyTypeProxyArray) state.revoke_();else state.revoked_ = true;\n \t}\n\n \tfunction processResult(result, scope) {\n \t  scope.unfinalizedDrafts_ = scope.drafts_.length;\n \t  var baseDraft = scope.drafts_[0];\n \t  var isReplaced = result !== undefined && result !== baseDraft;\n \t  if (!scope.immer_.useProxies_) getPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced);\n\n \t  if (isReplaced) {\n \t    if (baseDraft[DRAFT_STATE].modified_) {\n \t      revokeScope(scope);\n \t      die(4);\n \t    }\n\n \t    if (isDraftable(result)) {\n \t      // Finalize the result in case it contains (or is) a subset of the draft.\n \t      result = finalize(scope, result);\n \t      if (!scope.parent_) maybeFreeze(scope, result);\n \t    }\n\n \t    if (scope.patches_) {\n \t      getPlugin(\"Patches\").generateReplacementPatches_(baseDraft[DRAFT_STATE], result, scope.patches_, scope.inversePatches_);\n \t    }\n \t  } else {\n \t    // Finalize the base draft.\n \t    result = finalize(scope, baseDraft, []);\n \t  }\n\n \t  revokeScope(scope);\n\n \t  if (scope.patches_) {\n \t    scope.patchListener_(scope.patches_, scope.inversePatches_);\n \t  }\n\n \t  return result !== NOTHING ? result : undefined;\n \t}\n\n \tfunction finalize(rootScope, value, path) {\n \t  // Don't recurse in tho recursive data structures\n \t  if (isFrozen(value)) return value;\n \t  var state = value[DRAFT_STATE]; // A plain object, might need freezing, might contain drafts\n\n \t  if (!state) {\n \t    each(value, function (key, childValue) {\n \t      return finalizeProperty(rootScope, state, value, key, childValue, path);\n \t    }, true // See #590, don't recurse into non-enumarable of non drafted objects\n \t    );\n \t    return value;\n \t  } // Never finalize drafts owned by another scope.\n\n\n \t  if (state.scope_ !== rootScope) return value; // Unmodified draft, return the (frozen) original\n\n \t  if (!state.modified_) {\n \t    maybeFreeze(rootScope, state.base_, true);\n \t    return state.base_;\n \t  } // Not finalized yet, let's do that now\n\n\n \t  if (!state.finalized_) {\n \t    state.finalized_ = true;\n \t    state.scope_.unfinalizedDrafts_--;\n \t    var result = // For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n \t    state.type_ === ProxyTypeES5Object || state.type_ === ProxyTypeES5Array ? state.copy_ = shallowCopy(state.draft_, true) : state.copy_; // finalize all children of the copy\n\n \t    each(result, function (key, childValue) {\n \t      return finalizeProperty(rootScope, state, result, key, childValue, path);\n \t    }); // everything inside is frozen, we can freeze here\n\n \t    maybeFreeze(rootScope, result, false); // first time finalizing, let's create those patches\n\n \t    if (path && rootScope.patches_) {\n \t      getPlugin(\"Patches\").generatePatches_(state, path, rootScope.patches_, rootScope.inversePatches_);\n \t    }\n \t  }\n\n \t  return state.copy_;\n \t}\n\n \tfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath) {\n \t  if ( childValue === targetObject) die(5);\n\n \t  if (isDraft(childValue)) {\n \t    var path = rootPath && parentState && parentState.type_ !== ProxyTypeSet && // Set objects are atomic since they have no keys.\n \t    !has(parentState.assigned_, prop) // Skip deep patches for assigned keys.\n \t    ? rootPath.concat(prop) : undefined; // Drafts owned by `scope` are finalized here.\n\n \t    var res = finalize(rootScope, childValue, path);\n \t    set(targetObject, prop, res); // Drafts from another scope must prevented to be frozen\n \t    // if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\n \t    if (isDraft(res)) {\n \t      rootScope.canAutoFreeze_ = false;\n \t    } else return;\n \t  } // Unchanged draft properties are ignored.\n\n\n \t  if (parentState && is(childValue, get(parentState.base_, prop))) {\n \t    return;\n \t  } // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\n\n \t  if (isDraftable(childValue)) {\n \t    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n \t      // optimization: if an object is not a draft, and we don't have to\n \t      // deepfreeze everything, and we are sure that no drafts are left in the remaining object\n \t      // cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n \t      // This benefits especially adding large data tree's without further processing.\n \t      // See add-data.js perf test\n \t      return;\n \t    }\n\n \t    finalize(rootScope, childValue); // immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\n \t    if (!parentState || !parentState.scope_.parent_) maybeFreeze(rootScope, childValue);\n \t  }\n \t}\n\n \tfunction maybeFreeze(scope, value, deep) {\n \t  if (deep === void 0) {\n \t    deep = false;\n \t  }\n\n \t  if (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n \t    freeze(value, deep);\n \t  }\n \t}\n\n \t/**\r\n \t * Returns a new draft of the `base` object.\r\n \t *\r\n \t * The second argument is the parent draft-state (used internally).\r\n \t */\n\n \tfunction createProxyProxy(base, parent) {\n \t  var isArray = Array.isArray(base);\n \t  var state = {\n \t    type_: isArray ? ProxyTypeProxyArray : ProxyTypeProxyObject,\n \t    // Track which produce call this is associated with.\n \t    scope_: parent ? parent.scope_ : getCurrentScope(),\n \t    // True for both shallow and deep changes.\n \t    modified_: false,\n \t    // Used during finalization.\n \t    finalized_: false,\n \t    // Track which properties have been assigned (true) or deleted (false).\n \t    assigned_: {},\n \t    // The parent draft state.\n \t    parent_: parent,\n \t    // The base state.\n \t    base_: base,\n \t    // The base proxy.\n \t    draft_: null,\n \t    // Any property proxies.\n \t    drafts_: {},\n \t    // The base copy with any updated values.\n \t    copy_: null,\n \t    // Called by the `produce` function.\n \t    revoke_: null,\n \t    isManual_: false\n \t  }; // the traps must target something, a bit like the 'real' base.\n \t  // but also, we need to be able to determine from the target what the relevant state is\n \t  // (to avoid creating traps per instance to capture the state in closure,\n \t  // and to avoid creating weird hidden properties as well)\n \t  // So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n \t  // Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\n \t  var target = state;\n \t  var traps = objectTraps;\n\n \t  if (isArray) {\n \t    target = [state];\n \t    traps = arrayTraps;\n \t  }\n\n \t  var _Proxy$revocable = Proxy.revocable(target, traps),\n \t      revoke = _Proxy$revocable.revoke,\n \t      proxy = _Proxy$revocable.proxy;\n\n \t  state.draft_ = proxy;\n \t  state.revoke_ = revoke;\n \t  return proxy;\n \t}\n \t/**\r\n \t * Object drafts\r\n \t */\n\n \tvar objectTraps = {\n \t  get: function get(state, prop) {\n \t    if (prop === DRAFT_STATE) return state;\n \t    var drafts = state.drafts_; // Check for existing draft in unmodified state.\n\n \t    if (!state.modified_ && has(drafts, prop)) {\n \t      return drafts[prop];\n \t    }\n\n \t    var value = latest(state)[prop];\n\n \t    if (state.finalized_ || !isDraftable(value)) {\n \t      return value;\n \t    } // Check for existing draft in modified state.\n\n\n \t    if (state.modified_) {\n \t      // Assigned values are never drafted. This catches any drafts we created, too.\n \t      if (value !== peek(state.base_, prop)) return value; // Store drafts on the copy (when one exists).\n \t      // @ts-ignore\n\n \t      drafts = state.copy_;\n \t    }\n\n \t    return drafts[prop] = createProxy(state.scope_.immer_, value, state);\n \t  },\n \t  has: function has(state, prop) {\n \t    return prop in latest(state);\n \t  },\n \t  ownKeys: function ownKeys(state) {\n \t    return Reflect.ownKeys(latest(state));\n \t  },\n \t  set: function set(state, prop\n \t  /* strictly not, but helps TS */\n \t  , value) {\n \t    if (!state.modified_) {\n \t      var baseValue = peek(state.base_, prop); // Optimize based on value's truthiness. Truthy values are guaranteed to\n \t      // never be undefined, so we can avoid the `in` operator. Lastly, truthy\n \t      // values may be drafts, but falsy values are never drafts.\n\n \t      var isUnchanged = value ? is(baseValue, value) || value === state.drafts_[prop] : is(baseValue, value) && prop in state.base_;\n \t      if (isUnchanged) return true;\n \t      prepareCopy(state);\n \t      markChangedProxy(state);\n \t    }\n\n \t    state.assigned_[prop] = true; // @ts-ignore\n\n \t    state.copy_[prop] = value;\n \t    return true;\n \t  },\n \t  deleteProperty: function deleteProperty(state, prop) {\n \t    // The `undefined` check is a fast path for pre-existing keys.\n \t    if (peek(state.base_, prop) !== undefined || prop in state.base_) {\n \t      state.assigned_[prop] = false;\n \t      prepareCopy(state);\n \t      markChangedProxy(state);\n \t    } else if (state.assigned_[prop]) {\n \t      // if an originally not assigned property was deleted\n \t      delete state.assigned_[prop];\n \t    } // @ts-ignore\n\n\n \t    if (state.copy_) delete state.copy_[prop];\n \t    return true;\n \t  },\n \t  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n \t  // the same guarantee in ES5 mode.\n \t  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(state, prop) {\n \t    var owner = latest(state);\n \t    var desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n\n \t    if (desc) {\n \t      desc.writable = true;\n \t      desc.configurable = state.type_ !== ProxyTypeProxyArray || prop !== \"length\";\n \t    }\n\n \t    return desc;\n \t  },\n \t  defineProperty: function defineProperty() {\n \t    die(11);\n \t  },\n \t  getPrototypeOf: function getPrototypeOf(state) {\n \t    return Object.getPrototypeOf(state.base_);\n \t  },\n \t  setPrototypeOf: function setPrototypeOf() {\n \t    die(12);\n \t  }\n \t};\n \t/**\r\n \t * Array drafts\r\n \t */\n\n \tvar arrayTraps = {};\n \teach(objectTraps, function (key, fn) {\n \t  // @ts-ignore\n \t  arrayTraps[key] = function () {\n \t    arguments[0] = arguments[0][0];\n \t    return fn.apply(this, arguments);\n \t  };\n \t});\n\n \tarrayTraps.deleteProperty = function (state, prop) {\n \t  if ( isNaN(parseInt(prop))) die(13);\n \t  return objectTraps.deleteProperty.call(this, state[0], prop);\n \t};\n\n \tarrayTraps.set = function (state, prop, value) {\n \t  if ( prop !== \"length\" && isNaN(parseInt(prop))) die(14);\n \t  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n \t};\n \t/**\r\n \t * Map drafts\r\n \t */\n \t// Access a property without creating an Immer draft.\n\n\n \tfunction peek(draft, prop) {\n \t  var state = draft[DRAFT_STATE];\n \t  var desc = Reflect.getOwnPropertyDescriptor(state ? latest(state) : draft, prop);\n \t  return desc && desc.value;\n \t}\n\n \tfunction markChangedProxy(state) {\n \t  if (!state.modified_) {\n \t    state.modified_ = true;\n\n \t    if (state.type_ === ProxyTypeProxyObject || state.type_ === ProxyTypeProxyArray) {\n \t      var copy = state.copy_ = shallowCopy(state.base_);\n \t      each(state.drafts_, function (key, value) {\n \t        // @ts-ignore\n \t        copy[key] = value;\n \t      });\n \t      state.drafts_ = undefined;\n \t    }\n\n \t    if (state.parent_) {\n \t      markChangedProxy(state.parent_);\n \t    }\n \t  }\n \t}\n\n \tfunction prepareCopy(state) {\n \t  if (!state.copy_) {\n \t    state.copy_ = shallowCopy(state.base_);\n \t  }\n \t}\n\n \tvar Immer =\n \t/*#__PURE__*/\n \tfunction () {\n \t  function Immer(config) {\n \t    this.useProxies_ = hasProxies;\n \t    this.autoFreeze_ =  true\n \t    /* istanbul ignore next */\n \t    ;\n \t    if (typeof (config === null || config === void 0 ? void 0 : config.useProxies) === \"boolean\") this.setUseProxies(config.useProxies);\n \t    if (typeof (config === null || config === void 0 ? void 0 : config.autoFreeze) === \"boolean\") this.setAutoFreeze(config.autoFreeze);\n \t    this.produce = this.produce.bind(this);\n \t    this.produceWithPatches = this.produceWithPatches.bind(this);\n \t  }\n \t  /**\r\n \t   * The `produce` function takes a value and a \"recipe function\" (whose\r\n \t   * return value often depends on the base state). The recipe function is\r\n \t   * free to mutate its first argument however it wants. All mutations are\r\n \t   * only ever applied to a __copy__ of the base state.\r\n \t   *\r\n \t   * Pass only a function to create a \"curried producer\" which relieves you\r\n \t   * from passing the recipe function every time.\r\n \t   *\r\n \t   * Only plain objects and arrays are made mutable. All other objects are\r\n \t   * considered uncopyable.\r\n \t   *\r\n \t   * Note: This function is __bound__ to its `Immer` instance.\r\n \t   *\r\n \t   * @param {any} base - the initial state\r\n \t   * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\r\n \t   * @param {Function} patchListener - optional function that will be called with all the patches produced here\r\n \t   * @returns {any} a new state, or the initial state if nothing was modified\r\n \t   */\n\n\n \t  var _proto = Immer.prototype;\n\n \t  _proto.produce = function produce(base, recipe, patchListener) {\n \t    // curried invocation\n \t    if (typeof base === \"function\" && typeof recipe !== \"function\") {\n \t      var defaultBase = recipe;\n \t      recipe = base;\n \t      var self = this;\n \t      return function curriedProduce(base) {\n \t        var _this = this;\n\n \t        if (base === void 0) {\n \t          base = defaultBase;\n \t        }\n\n \t        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n \t          args[_key - 1] = arguments[_key];\n \t        }\n\n \t        return self.produce(base, function (draft) {\n \t          var _recipe;\n\n \t          return (_recipe = recipe).call.apply(_recipe, [_this, draft].concat(args));\n \t        }); // prettier-ignore\n \t      };\n \t    }\n\n \t    if (typeof recipe !== \"function\") die(6);\n \t    if (patchListener !== undefined && typeof patchListener !== \"function\") die(7);\n \t    var result; // Only plain objects, arrays, and \"immerable classes\" are drafted.\n\n \t    if (isDraftable(base)) {\n \t      var scope = enterScope(this);\n \t      var proxy = createProxy(this, base, undefined);\n \t      var hasError = true;\n\n \t      try {\n \t        result = recipe(proxy);\n \t        hasError = false;\n \t      } finally {\n \t        // finally instead of catch + rethrow better preserves original stack\n \t        if (hasError) revokeScope(scope);else leaveScope(scope);\n \t      }\n\n \t      if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n \t        return result.then(function (result) {\n \t          usePatchesInScope(scope, patchListener);\n \t          return processResult(result, scope);\n \t        }, function (error) {\n \t          revokeScope(scope);\n \t          throw error;\n \t        });\n \t      }\n\n \t      usePatchesInScope(scope, patchListener);\n \t      return processResult(result, scope);\n \t    } else {\n \t      result = recipe(base);\n \t      if (result === NOTHING) return undefined;\n \t      if (result === undefined) result = base;\n \t      if (this.autoFreeze_) freeze(result, true);\n \t      return result;\n \t    }\n \t  };\n\n \t  _proto.produceWithPatches = function produceWithPatches(arg1, arg2, arg3) {\n \t    var _this2 = this;\n\n \t    if (typeof arg1 === \"function\") {\n \t      return function (state) {\n \t        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n \t          args[_key2 - 1] = arguments[_key2];\n \t        }\n\n \t        return _this2.produceWithPatches(state, function (draft) {\n \t          return arg1.apply(void 0, [draft].concat(args));\n \t        });\n \t      };\n \t    }\n\n \t    var patches, inversePatches;\n \t    var nextState = this.produce(arg1, arg2, function (p, ip) {\n \t      patches = p;\n \t      inversePatches = ip;\n \t    });\n \t    return [nextState, patches, inversePatches];\n \t  };\n\n \t  _proto.createDraft = function createDraft(base) {\n \t    if (!isDraftable(base)) die(8);\n \t    var scope = enterScope(this);\n \t    var proxy = createProxy(this, base, undefined);\n \t    proxy[DRAFT_STATE].isManual_ = true;\n \t    leaveScope(scope);\n \t    return proxy;\n \t  };\n\n \t  _proto.finishDraft = function finishDraft(draft, patchListener) {\n \t    var state = draft && draft[DRAFT_STATE];\n\n \t    {\n \t      if (!state || !state.isManual_) die(9);\n \t      if (state.finalized_) die(10);\n \t    }\n\n \t    var scope = state.scope_;\n \t    usePatchesInScope(scope, patchListener);\n \t    return processResult(undefined, scope);\n \t  }\n \t  /**\r\n \t   * Pass true to automatically freeze all copies created by Immer.\r\n \t   *\r\n \t   * By default, auto-freezing is disabled in production.\r\n \t   */\n \t  ;\n\n \t  _proto.setAutoFreeze = function setAutoFreeze(value) {\n \t    this.autoFreeze_ = value;\n \t  }\n \t  /**\r\n \t   * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\r\n \t   * always faster than using ES5 proxies.\r\n \t   *\r\n \t   * By default, feature detection is used, so calling this is rarely necessary.\r\n \t   */\n \t  ;\n\n \t  _proto.setUseProxies = function setUseProxies(value) {\n \t    if (!hasProxies) {\n \t      die(20);\n \t    }\n\n \t    this.useProxies_ = value;\n \t  };\n\n \t  _proto.applyPatches = function applyPatches(base, patches) {\n \t    // If a patch replaces the entire state, take that replacement as base\n \t    // before applying patches\n \t    var i;\n\n \t    for (i = patches.length - 1; i >= 0; i--) {\n \t      var patch = patches[i];\n\n \t      if (patch.path.length === 0 && patch.op === \"replace\") {\n \t        base = patch.value;\n \t        break;\n \t      }\n \t    }\n\n \t    var applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n\n \t    if (isDraft(base)) {\n \t      // N.B: never hits if some patch a replacement, patches are never drafts\n \t      return applyPatchesImpl(base, patches);\n \t    } // Otherwise, produce a copy of the base state.\n\n\n \t    return this.produce(base, function (draft) {\n \t      return applyPatchesImpl(draft, patches.slice(i + 1));\n \t    });\n \t  };\n\n \t  return Immer;\n \t}();\n \tfunction createProxy(immer, value, parent) {\n \t  // precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n \t  var draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : immer.useProxies_ ? createProxyProxy(value, parent) : getPlugin(\"ES5\").createES5Proxy_(value, parent);\n \t  var scope = parent ? parent.scope_ : getCurrentScope();\n \t  scope.drafts_.push(draft);\n \t  return draft;\n \t}\n \tfunction markChanged(immer, state) {\n \t  if (immer.useProxies_) {\n \t    markChangedProxy(state);\n \t  } else {\n \t    getPlugin(\"ES5\").markChangedES5_(state);\n \t  }\n \t}\n\n \tfunction enableES5() {\n \t  function willFinalizeES5_(scope, result, isReplaced) {\n \t    scope.drafts_.forEach(function (draft) {\n \t      draft[DRAFT_STATE].finalizing_ = true;\n \t    });\n\n \t    if (!isReplaced) {\n \t      if (scope.patches_) {\n \t        markChangesRecursively(scope.drafts_[0]);\n \t      } // This is faster when we don't care about which attributes changed.\n\n\n \t      markChangesSweep(scope.drafts_);\n \t    } // When a child draft is returned, look for changes.\n \t    else if (isDraft(result) && result[DRAFT_STATE].scope_ === scope) {\n \t        markChangesSweep(scope.drafts_);\n \t      }\n \t  }\n\n \t  function createES5Proxy_(base, parent) {\n \t    var isArray = Array.isArray(base);\n \t    var draft = clonePotentialDraft(base);\n \t    each(draft, function (prop) {\n \t      proxyProperty(draft, prop, isArray || isEnumerable(base, prop));\n \t    });\n \t    var state = {\n \t      type_: isArray ? ProxyTypeES5Array : ProxyTypeES5Object,\n \t      scope_: parent ? parent.scope_ : getCurrentScope(),\n \t      modified_: false,\n \t      finalizing_: false,\n \t      finalized_: false,\n \t      assigned_: {},\n \t      parent_: parent,\n \t      base_: base,\n \t      draft_: draft,\n \t      copy_: null,\n \t      revoked_: false,\n \t      isManual_: false\n \t    };\n \t    Object.defineProperty(draft, DRAFT_STATE, {\n \t      value: state,\n \t      // enumerable: false <- the default\n \t      writable: true\n \t    });\n \t    return draft;\n \t  } // Access a property without creating an Immer draft.\n\n\n \t  function peek(draft, prop) {\n \t    var state = draft[DRAFT_STATE];\n\n \t    if (state && !state.finalizing_) {\n \t      state.finalizing_ = true;\n \t      var value = draft[prop];\n \t      state.finalizing_ = false;\n \t      return value;\n \t    }\n\n \t    return draft[prop];\n \t  }\n\n \t  function _get(state, prop) {\n \t    assertUnrevoked(state);\n \t    var value = peek(latest(state), prop);\n \t    if (state.finalizing_) return value; // Create a draft if the value is unmodified.\n\n \t    if (value === peek(state.base_, prop) && isDraftable(value)) {\n \t      prepareCopy(state); // @ts-ignore\n\n \t      return state.copy_[prop] = createProxy(state.scope_.immer_, value, state);\n \t    }\n\n \t    return value;\n \t  }\n\n \t  function _set(state, prop, value) {\n \t    assertUnrevoked(state);\n \t    state.assigned_[prop] = true;\n\n \t    if (!state.modified_) {\n \t      if (is(value, peek(latest(state), prop))) return;\n \t      markChangedES5_(state);\n \t      prepareCopy(state);\n \t    } // @ts-ignore\n\n\n \t    state.copy_[prop] = value;\n \t  }\n\n \t  function markChangedES5_(state) {\n \t    if (!state.modified_) {\n \t      state.modified_ = true;\n \t      if (state.parent_) markChangedES5_(state.parent_);\n \t    }\n \t  }\n\n \t  function prepareCopy(state) {\n \t    if (!state.copy_) state.copy_ = clonePotentialDraft(state.base_);\n \t  }\n\n \t  function clonePotentialDraft(base) {\n \t    var state = base && base[DRAFT_STATE];\n\n \t    if (state) {\n \t      state.finalizing_ = true;\n \t      var draft = shallowCopy(state.draft_, true);\n \t      state.finalizing_ = false;\n \t      return draft;\n \t    }\n\n \t    return shallowCopy(base);\n \t  } // property descriptors are recycled to make sure we don't create a get and set closure per property,\n \t  // but share them all instead\n\n\n \t  var descriptors = {};\n\n \t  function proxyProperty(draft, prop, enumerable) {\n \t    var desc = descriptors[prop];\n\n \t    if (desc) {\n \t      desc.enumerable = enumerable;\n \t    } else {\n \t      descriptors[prop] = desc = {\n \t        // configurable: true,\n \t        enumerable: enumerable,\n \t        get: function get() {\n \t          return _get(this[DRAFT_STATE], prop);\n \t        },\n \t        set: function set(value) {\n \t          _set(this[DRAFT_STATE], prop, value);\n \t        }\n \t      };\n \t    }\n\n \t    Object.defineProperty(draft, prop, desc);\n \t  } // This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\n\n \t  function markChangesSweep(drafts) {\n \t    // The natural order of drafts in the `scope` array is based on when they\n \t    // were accessed. By processing drafts in reverse natural order, we have a\n \t    // better chance of processing leaf nodes first. When a leaf node is known to\n \t    // have changed, we can avoid any traversal of its ancestor nodes.\n \t    for (var i = drafts.length - 1; i >= 0; i--) {\n \t      var state = drafts[i][DRAFT_STATE];\n\n \t      if (!state.modified_) {\n \t        switch (state.type_) {\n \t          case ProxyTypeES5Array:\n \t            if (hasArrayChanges(state)) markChangedES5_(state);\n \t            break;\n\n \t          case ProxyTypeES5Object:\n \t            if (hasObjectChanges(state)) markChangedES5_(state);\n \t            break;\n \t        }\n \t      }\n \t    }\n \t  }\n\n \t  function markChangesRecursively(object) {\n \t    if (!object || typeof object !== \"object\") return;\n \t    var state = object[DRAFT_STATE];\n \t    if (!state) return;\n \t    var base_ = state.base_,\n \t        draft_ = state.draft_,\n \t        assigned_ = state.assigned_,\n \t        type_ = state.type_;\n\n \t    if (type_ === ProxyTypeES5Object) {\n \t      // Look for added keys.\n \t      // TODO: looks quite duplicate to hasObjectChanges,\n \t      // probably there is a faster way to detect changes, as sweep + recurse seems to do some\n \t      // unnecessary work.\n \t      // also: probably we can store the information we detect here, to speed up tree finalization!\n \t      each(draft_, function (key) {\n \t        if (key === DRAFT_STATE) return; // The `undefined` check is a fast path for pre-existing keys.\n\n \t        if (base_[key] === undefined && !has(base_, key)) {\n \t          assigned_[key] = true;\n \t          markChangedES5_(state);\n \t        } else if (!assigned_[key]) {\n \t          // Only untouched properties trigger recursion.\n \t          markChangesRecursively(draft_[key]);\n \t        }\n \t      }); // Look for removed keys.\n\n \t      each(base_, function (key) {\n \t        // The `undefined` check is a fast path for pre-existing keys.\n \t        if (draft_[key] === undefined && !has(draft_, key)) {\n \t          assigned_[key] = false;\n \t          markChangedES5_(state);\n \t        }\n \t      });\n \t    } else if (type_ === ProxyTypeES5Array) {\n \t      if (hasArrayChanges(state)) {\n \t        markChangedES5_(state);\n \t        assigned_.length = true;\n \t      }\n\n \t      if (draft_.length < base_.length) {\n \t        for (var i = draft_.length; i < base_.length; i++) {\n \t          assigned_[i] = false;\n \t        }\n \t      } else {\n \t        for (var _i = base_.length; _i < draft_.length; _i++) {\n \t          assigned_[_i] = true;\n \t        }\n \t      } // Minimum count is enough, the other parts has been processed.\n\n\n \t      var min = Math.min(draft_.length, base_.length);\n\n \t      for (var _i2 = 0; _i2 < min; _i2++) {\n \t        // Only untouched indices trigger recursion.\n \t        if (assigned_[_i2] === undefined) markChangesRecursively(draft_[_i2]);\n \t      }\n \t    }\n \t  }\n\n \t  function hasObjectChanges(state) {\n \t    var base_ = state.base_,\n \t        draft_ = state.draft_; // Search for added keys and changed keys. Start at the back, because\n \t    // non-numeric keys are ordered by time of definition on the object.\n\n \t    var keys = Object.keys(draft_);\n\n \t    for (var i = keys.length - 1; i >= 0; i--) {\n \t      var key = keys[i];\n \t      var baseValue = base_[key]; // The `undefined` check is a fast path for pre-existing keys.\n\n \t      if (baseValue === undefined && !has(base_, key)) {\n \t        return true;\n \t      } // Once a base key is deleted, future changes go undetected, because its\n \t      // descriptor is erased. This branch detects any missed changes.\n \t      else {\n \t          var value = draft_[key];\n\n \t          var _state = value && value[DRAFT_STATE];\n\n \t          if (_state ? _state.base_ !== baseValue : !is(value, baseValue)) {\n \t            return true;\n \t          }\n \t        }\n \t    } // At this point, no keys were added or changed.\n \t    // Compare key count to determine if keys were deleted.\n\n\n \t    return keys.length !== Object.keys(base_).length;\n \t  }\n\n \t  function hasArrayChanges(state) {\n \t    var draft_ = state.draft_;\n \t    if (draft_.length !== state.base_.length) return true; // See #116\n \t    // If we first shorten the length, our array interceptors will be removed.\n \t    // If after that new items are added, result in the same original length,\n \t    // those last items will have no intercepting property.\n \t    // So if there is no own descriptor on the last position, we know that items were removed and added\n \t    // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n \t    // the last one\n\n \t    var descriptor = Object.getOwnPropertyDescriptor(draft_, draft_.length - 1); // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\n \t    if (descriptor && !descriptor.get) return true; // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\n \t    return false;\n \t  }\n \t  /*#__PURE__*/\n\n\n \t  function isEnumerable(base, prop) {\n \t    var desc = Object.getOwnPropertyDescriptor(base, prop);\n \t    return desc && desc.enumerable ? true : false;\n \t  }\n\n \t  function assertUnrevoked(state\n \t  /*ES5State | MapState | SetState*/\n \t  ) {\n \t    if (state.revoked_) die(3, JSON.stringify(latest(state)));\n \t  }\n\n \t  loadPlugin(\"ES5\", {\n \t    createES5Proxy_: createES5Proxy_,\n \t    markChangedES5_: markChangedES5_,\n \t    willFinalizeES5_: willFinalizeES5_\n \t  });\n \t}\n\n \tfunction enablePatches() {\n \t  var REPLACE = \"replace\";\n \t  var ADD = \"add\";\n \t  var REMOVE = \"remove\";\n\n \t  function generatePatches_(state, basePath, patches, inversePatches) {\n \t    switch (state.type_) {\n \t      case ProxyTypeProxyObject:\n \t      case ProxyTypeES5Object:\n \t      case ProxyTypeMap:\n \t        return generatePatchesFromAssigned(state, basePath, patches, inversePatches);\n\n \t      case ProxyTypeES5Array:\n \t      case ProxyTypeProxyArray:\n \t        return generateArrayPatches(state, basePath, patches, inversePatches);\n\n \t      case ProxyTypeSet:\n \t        return generateSetPatches(state, basePath, patches, inversePatches);\n \t    }\n \t  }\n\n \t  function generateArrayPatches(state, basePath, patches, inversePatches) {\n \t    var base_ = state.base_,\n \t        assigned_ = state.assigned_;\n \t    var copy_ = state.copy_; // Reduce complexity by ensuring `base` is never longer.\n\n \t    if (copy_.length < base_.length) {\n \t      var _ref = [copy_, base_];\n \t      base_ = _ref[0];\n \t      copy_ = _ref[1];\n \t      var _ref2 = [inversePatches, patches];\n \t      patches = _ref2[0];\n \t      inversePatches = _ref2[1];\n \t    }\n\n \t    var delta = copy_.length - base_.length; // Find the first replaced index.\n\n \t    var start = 0;\n\n \t    while (base_[start] === copy_[start] && start < base_.length) {\n \t      ++start;\n \t    } // Find the last replaced index. Search from the end to optimize splice patches.\n\n\n \t    var end = base_.length;\n\n \t    while (end > start && base_[end - 1] === copy_[end + delta - 1]) {\n \t      --end;\n \t    } // Process replaced indices.\n\n\n \t    for (var i = start; i < end; ++i) {\n \t      if (assigned_[i] && copy_[i] !== base_[i]) {\n \t        var path = basePath.concat([i]);\n \t        patches.push({\n \t          op: REPLACE,\n \t          path: path,\n \t          // Need to maybe clone it, as it can in fact be the original value\n \t          // due to the base/copy inversion at the start of this function\n \t          value: clonePatchValueIfNeeded(copy_[i])\n \t        });\n \t        inversePatches.push({\n \t          op: REPLACE,\n \t          path: path,\n \t          value: clonePatchValueIfNeeded(base_[i])\n \t        });\n \t      }\n \t    }\n\n \t    var replaceCount = patches.length; // Process added indices.\n\n \t    for (var _i = end + delta - 1; _i >= end; --_i) {\n \t      var _path = basePath.concat([_i]);\n\n \t      patches[replaceCount + _i - end] = {\n \t        op: ADD,\n \t        path: _path,\n \t        // Need to maybe clone it, as it can in fact be the original value\n \t        // due to the base/copy inversion at the start of this function\n \t        value: clonePatchValueIfNeeded(copy_[_i])\n \t      };\n \t      inversePatches.push({\n \t        op: REMOVE,\n \t        path: _path\n \t      });\n \t    }\n \t  } // This is used for both Map objects and normal objects.\n\n\n \t  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n \t    var base_ = state.base_,\n \t        copy_ = state.copy_;\n \t    each(state.assigned_, function (key, assignedValue) {\n \t      var origValue = get(base_, key);\n \t      var value = get(copy_, key);\n \t      var op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n \t      if (origValue === value && op === REPLACE) return;\n \t      var path = basePath.concat(key);\n \t      patches.push(op === REMOVE ? {\n \t        op: op,\n \t        path: path\n \t      } : {\n \t        op: op,\n \t        path: path,\n \t        value: value\n \t      });\n \t      inversePatches.push(op === ADD ? {\n \t        op: REMOVE,\n \t        path: path\n \t      } : op === REMOVE ? {\n \t        op: ADD,\n \t        path: path,\n \t        value: clonePatchValueIfNeeded(origValue)\n \t      } : {\n \t        op: REPLACE,\n \t        path: path,\n \t        value: clonePatchValueIfNeeded(origValue)\n \t      });\n \t    });\n \t  }\n\n \t  function generateSetPatches(state, basePath, patches, inversePatches) {\n \t    var base_ = state.base_,\n \t        copy_ = state.copy_;\n \t    var i = 0;\n \t    base_.forEach(function (value) {\n \t      if (!copy_.has(value)) {\n \t        var path = basePath.concat([i]);\n \t        patches.push({\n \t          op: REMOVE,\n \t          path: path,\n \t          value: value\n \t        });\n \t        inversePatches.unshift({\n \t          op: ADD,\n \t          path: path,\n \t          value: value\n \t        });\n \t      }\n\n \t      i++;\n \t    });\n \t    i = 0;\n \t    copy_.forEach(function (value) {\n \t      if (!base_.has(value)) {\n \t        var path = basePath.concat([i]);\n \t        patches.push({\n \t          op: ADD,\n \t          path: path,\n \t          value: value\n \t        });\n \t        inversePatches.unshift({\n \t          op: REMOVE,\n \t          path: path,\n \t          value: value\n \t        });\n \t      }\n\n \t      i++;\n \t    });\n \t  }\n\n \t  function generateReplacementPatches_(rootState, replacement, patches, inversePatches) {\n \t    patches.push({\n \t      op: REPLACE,\n \t      path: [],\n \t      value: replacement\n \t    });\n \t    inversePatches.push({\n \t      op: REPLACE,\n \t      path: [],\n \t      value: rootState.base_\n \t    });\n \t  }\n\n \t  function applyPatches_(draft, patches) {\n \t    patches.forEach(function (patch) {\n \t      var path = patch.path,\n \t          op = patch.op;\n \t      var base = draft;\n\n \t      for (var i = 0; i < path.length - 1; i++) {\n \t        base = get(base, path[i]);\n \t        if (typeof base !== \"object\") die(15, path.join(\"/\"));\n \t      }\n\n \t      var type = getArchtype(base);\n \t      var value = deepClonePatchValue(patch.value); // used to clone patch to ensure original patch is not modified, see #411\n\n \t      var key = path[path.length - 1];\n\n \t      switch (op) {\n \t        case REPLACE:\n \t          switch (type) {\n \t            case ArchtypeMap:\n \t              return base.set(key, value);\n\n \t            /* istanbul ignore next */\n\n \t            case ArchtypeSet:\n \t              die(16);\n\n \t            default:\n \t              // if value is an object, then it's assigned by reference\n \t              // in the following add or remove ops, the value field inside the patch will also be modifyed\n \t              // so we use value from the cloned patch\n \t              // @ts-ignore\n \t              return base[key] = value;\n \t          }\n\n \t        case ADD:\n \t          switch (type) {\n \t            case ArchtypeArray:\n \t              return base.splice(key, 0, value);\n\n \t            case ArchtypeMap:\n \t              return base.set(key, value);\n\n \t            case ArchtypeSet:\n \t              return base.add(value);\n\n \t            default:\n \t              return base[key] = value;\n \t          }\n\n \t        case REMOVE:\n \t          switch (type) {\n \t            case ArchtypeArray:\n \t              return base.splice(key, 1);\n\n \t            case ArchtypeMap:\n \t              return base.delete(key);\n\n \t            case ArchtypeSet:\n \t              return base.delete(patch.value);\n\n \t            default:\n \t              return delete base[key];\n \t          }\n\n \t        default:\n \t          die(17, op);\n \t      }\n \t    });\n \t    return draft;\n \t  }\n\n \t  function deepClonePatchValue(obj) {\n \t    if (!obj || typeof obj !== \"object\") return obj;\n \t    if (Array.isArray(obj)) return obj.map(deepClonePatchValue);\n \t    if (isMap(obj)) return new Map(Array.from(obj.entries()).map(function (_ref3) {\n \t      var k = _ref3[0],\n \t          v = _ref3[1];\n \t      return [k, deepClonePatchValue(v)];\n \t    }));\n \t    if (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue));\n \t    var cloned = Object.create(Object.getPrototypeOf(obj));\n\n \t    for (var key in obj) {\n \t      cloned[key] = deepClonePatchValue(obj[key]);\n \t    }\n\n \t    return cloned;\n \t  }\n\n \t  function clonePatchValueIfNeeded(obj) {\n \t    if (isDraft(obj)) {\n \t      return deepClonePatchValue(obj);\n \t    } else return obj;\n \t  }\n\n \t  loadPlugin(\"Patches\", {\n \t    applyPatches_: applyPatches_,\n \t    generatePatches_: generatePatches_,\n \t    generateReplacementPatches_: generateReplacementPatches_\n \t  });\n \t}\n\n \t// types only!\n \tfunction enableMapSet() {\n \t  /* istanbul ignore next */\n \t  var _extendStatics = function extendStatics(d, b) {\n \t    _extendStatics = Object.setPrototypeOf || {\n \t      __proto__: []\n \t    } instanceof Array && function (d, b) {\n \t      d.__proto__ = b;\n \t    } || function (d, b) {\n \t      for (var p in b) {\n \t        if (b.hasOwnProperty(p)) d[p] = b[p];\n \t      }\n \t    };\n\n \t    return _extendStatics(d, b);\n \t  }; // Ugly hack to resolve #502 and inherit built in Map / Set\n\n\n \t  function __extends(d, b) {\n \t    _extendStatics(d, b);\n\n \t    function __() {\n \t      this.constructor = d;\n \t    }\n\n \t    d.prototype = ( // @ts-ignore\n \t    __.prototype = b.prototype, new __());\n \t  }\n\n \t  var DraftMap = function (_super) {\n \t    __extends(DraftMap, _super); // Create class manually, cause #502\n\n\n \t    function DraftMap(target, parent) {\n \t      this[DRAFT_STATE] = {\n \t        type_: ProxyTypeMap,\n \t        parent_: parent,\n \t        scope_: parent ? parent.scope_ : getCurrentScope(),\n \t        modified_: false,\n \t        finalized_: false,\n \t        copy_: undefined,\n \t        assigned_: undefined,\n \t        base_: target,\n \t        draft_: this,\n \t        isManual_: false,\n \t        revoked_: false\n \t      };\n \t      return this;\n \t    }\n\n \t    var p = DraftMap.prototype;\n \t    Object.defineProperty(p, \"size\", {\n \t      get: function get() {\n \t        return latest(this[DRAFT_STATE]).size;\n \t      } // enumerable: false,\n \t      // configurable: true\n\n \t    });\n\n \t    p.has = function (key) {\n \t      return latest(this[DRAFT_STATE]).has(key);\n \t    };\n\n \t    p.set = function (key, value) {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n\n \t      if (latest(state).get(key) !== value) {\n \t        prepareMapCopy(state);\n \t        markChanged(state.scope_.immer_, state);\n \t        state.assigned_.set(key, true);\n \t        state.copy_.set(key, value);\n \t        state.assigned_.set(key, true);\n \t      }\n\n \t      return this;\n \t    };\n\n \t    p.delete = function (key) {\n \t      if (!this.has(key)) {\n \t        return false;\n \t      }\n\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      prepareMapCopy(state);\n \t      markChanged(state.scope_.immer_, state);\n \t      state.assigned_.set(key, false);\n \t      state.copy_.delete(key);\n \t      return true;\n \t    };\n\n \t    p.clear = function () {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      prepareMapCopy(state);\n \t      markChanged(state.scope_.immer_, state);\n \t      state.assigned_ = new Map();\n \t      return state.copy_.clear();\n \t    };\n\n \t    p.forEach = function (cb, thisArg) {\n \t      var _this = this;\n\n \t      var state = this[DRAFT_STATE];\n \t      latest(state).forEach(function (_value, key, _map) {\n \t        cb.call(thisArg, _this.get(key), key, _this);\n \t      });\n \t    };\n\n \t    p.get = function (key) {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      var value = latest(state).get(key);\n\n \t      if (state.finalized_ || !isDraftable(value)) {\n \t        return value;\n \t      }\n\n \t      if (value !== state.base_.get(key)) {\n \t        return value; // either already drafted or reassigned\n \t      } // despite what it looks, this creates a draft only once, see above condition\n\n\n \t      var draft = createProxy(state.scope_.immer_, value, state);\n \t      prepareMapCopy(state);\n \t      state.copy_.set(key, draft);\n \t      return draft;\n \t    };\n\n \t    p.keys = function () {\n \t      return latest(this[DRAFT_STATE]).keys();\n \t    };\n\n \t    p.values = function () {\n \t      var _this2 = this,\n \t          _ref;\n\n \t      var iterator = this.keys();\n \t      return _ref = {}, _ref[iteratorSymbol] = function () {\n \t        return _this2.values();\n \t      }, _ref.next = function next() {\n \t        var r = iterator.next();\n \t        /* istanbul ignore next */\n\n \t        if (r.done) return r;\n\n \t        var value = _this2.get(r.value);\n\n \t        return {\n \t          done: false,\n \t          value: value\n \t        };\n \t      }, _ref;\n \t    };\n\n \t    p.entries = function () {\n \t      var _this3 = this,\n \t          _ref2;\n\n \t      var iterator = this.keys();\n \t      return _ref2 = {}, _ref2[iteratorSymbol] = function () {\n \t        return _this3.entries();\n \t      }, _ref2.next = function next() {\n \t        var r = iterator.next();\n \t        /* istanbul ignore next */\n\n \t        if (r.done) return r;\n\n \t        var value = _this3.get(r.value);\n\n \t        return {\n \t          done: false,\n \t          value: [r.value, value]\n \t        };\n \t      }, _ref2;\n \t    };\n\n \t    p[iteratorSymbol] = function () {\n \t      return this.entries();\n \t    };\n\n \t    return DraftMap;\n \t  }(Map);\n\n \t  function proxyMap_(target, parent) {\n \t    // @ts-ignore\n \t    return new DraftMap(target, parent);\n \t  }\n\n \t  function prepareMapCopy(state) {\n \t    if (!state.copy_) {\n \t      state.assigned_ = new Map();\n \t      state.copy_ = new Map(state.base_);\n \t    }\n \t  }\n\n \t  var DraftSet = function (_super) {\n \t    __extends(DraftSet, _super); // Create class manually, cause #502\n\n\n \t    function DraftSet(target, parent) {\n \t      this[DRAFT_STATE] = {\n \t        type_: ProxyTypeSet,\n \t        parent_: parent,\n \t        scope_: parent ? parent.scope_ : getCurrentScope(),\n \t        modified_: false,\n \t        finalized_: false,\n \t        copy_: undefined,\n \t        base_: target,\n \t        draft_: this,\n \t        drafts_: new Map(),\n \t        revoked_: false,\n \t        isManual_: false\n \t      };\n \t      return this;\n \t    }\n\n \t    var p = DraftSet.prototype;\n \t    Object.defineProperty(p, \"size\", {\n \t      get: function get() {\n \t        return latest(this[DRAFT_STATE]).size;\n \t      } // enumerable: true,\n\n \t    });\n\n \t    p.has = function (value) {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state); // bit of trickery here, to be able to recognize both the value, and the draft of its value\n\n \t      if (!state.copy_) {\n \t        return state.base_.has(value);\n \t      }\n\n \t      if (state.copy_.has(value)) return true;\n \t      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value))) return true;\n \t      return false;\n \t    };\n\n \t    p.add = function (value) {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n\n \t      if (!this.has(value)) {\n \t        prepareSetCopy(state);\n \t        markChanged(state.scope_.immer_, state);\n \t        state.copy_.add(value);\n \t      }\n\n \t      return this;\n \t    };\n\n \t    p.delete = function (value) {\n \t      if (!this.has(value)) {\n \t        return false;\n \t      }\n\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      prepareSetCopy(state);\n \t      markChanged(state.scope_.immer_, state);\n \t      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) :\n \t      /* istanbul ignore next */\n \t      false);\n \t    };\n\n \t    p.clear = function () {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      prepareSetCopy(state);\n \t      markChanged(state.scope_.immer_, state);\n \t      return state.copy_.clear();\n \t    };\n\n \t    p.values = function () {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      prepareSetCopy(state);\n \t      return state.copy_.values();\n \t    };\n\n \t    p.entries = function entries() {\n \t      var state = this[DRAFT_STATE];\n \t      assertUnrevoked(state);\n \t      prepareSetCopy(state);\n \t      return state.copy_.entries();\n \t    };\n\n \t    p.keys = function () {\n \t      return this.values();\n \t    };\n\n \t    p[iteratorSymbol] = function () {\n \t      return this.values();\n \t    };\n\n \t    p.forEach = function forEach(cb, thisArg) {\n \t      var iterator = this.values();\n \t      var result = iterator.next();\n\n \t      while (!result.done) {\n \t        cb.call(thisArg, result.value, result.value, this);\n \t        result = iterator.next();\n \t      }\n \t    };\n\n \t    return DraftSet;\n \t  }(Set);\n\n \t  function proxySet_(target, parent) {\n \t    // @ts-ignore\n \t    return new DraftSet(target, parent);\n \t  }\n\n \t  function prepareSetCopy(state) {\n \t    if (!state.copy_) {\n \t      // create drafts for all entries to preserve insertion order\n \t      state.copy_ = new Set();\n \t      state.base_.forEach(function (value) {\n \t        if (isDraftable(value)) {\n \t          var draft = createProxy(state.scope_.immer_, value, state);\n \t          state.drafts_.set(value, draft);\n \t          state.copy_.add(draft);\n \t        } else {\n \t          state.copy_.add(value);\n \t        }\n \t      });\n \t    }\n \t  }\n\n \t  function assertUnrevoked(state\n \t  /*ES5State | MapState | SetState*/\n \t  ) {\n \t    if (state.revoked_) die(3, JSON.stringify(latest(state)));\n \t  }\n\n \t  loadPlugin(\"MapSet\", {\n \t    proxyMap_: proxyMap_,\n \t    proxySet_: proxySet_\n \t  });\n \t}\n\n \tfunction enableAllPlugins() {\n \t  enableES5();\n \t  enableMapSet();\n \t  enablePatches();\n \t}\n\n \tvar immer =\n \t/*#__PURE__*/\n \tnew Immer();\n \t/**\r\n \t * The `produce` function takes a value and a \"recipe function\" (whose\r\n \t * return value often depends on the base state). The recipe function is\r\n \t * free to mutate its first argument however it wants. All mutations are\r\n \t * only ever applied to a __copy__ of the base state.\r\n \t *\r\n \t * Pass only a function to create a \"curried producer\" which relieves you\r\n \t * from passing the recipe function every time.\r\n \t *\r\n \t * Only plain objects and arrays are made mutable. All other objects are\r\n \t * considered uncopyable.\r\n \t *\r\n \t * Note: This function is __bound__ to its `Immer` instance.\r\n \t *\r\n \t * @param {any} base - the initial state\r\n \t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\r\n \t * @param {Function} patchListener - optional function that will be called with all the patches produced here\r\n \t * @returns {any} a new state, or the initial state if nothing was modified\r\n \t */\n\n \tvar produce = immer.produce;\n \t/**\r\n \t * Like `produce`, but `produceWithPatches` always returns a tuple\r\n \t * [nextState, patches, inversePatches] (instead of just the next state)\r\n \t */\n\n \tvar produceWithPatches =\n \t/*#__PURE__*/\n \timmer.produceWithPatches.bind(immer);\n \t/**\r\n \t * Pass true to automatically freeze all copies created by Immer.\r\n \t *\r\n \t * By default, auto-freezing is disabled in production.\r\n \t */\n\n \tvar setAutoFreeze =\n \t/*#__PURE__*/\n \timmer.setAutoFreeze.bind(immer);\n \t/**\r\n \t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\r\n \t * always faster than using ES5 proxies.\r\n \t *\r\n \t * By default, feature detection is used, so calling this is rarely necessary.\r\n \t */\n\n \tvar setUseProxies =\n \t/*#__PURE__*/\n \timmer.setUseProxies.bind(immer);\n \t/**\r\n \t * Apply an array of Immer patches to the first argument.\r\n \t *\r\n \t * This function is a producer, which means copy-on-write is in effect.\r\n \t */\n\n \tvar applyPatches =\n \t/*#__PURE__*/\n \timmer.applyPatches.bind(immer);\n \t/**\r\n \t * Create an Immer draft from the given base state, which may be a draft itself.\r\n \t * The draft can be modified until you finalize it with the `finishDraft` function.\r\n \t */\n\n \tvar createDraft =\n \t/*#__PURE__*/\n \timmer.createDraft.bind(immer);\n \t/**\r\n \t * Finalize an Immer draft from a `createDraft` call, returning the base state\r\n \t * (if no changes were made) or a modified copy. The draft must *not* be\r\n \t * mutated afterwards.\r\n \t *\r\n \t * Pass a function as the 2nd argument to generate Immer patches based on the\r\n \t * changes that were made.\r\n \t */\n\n \tvar finishDraft =\n \t/*#__PURE__*/\n \timmer.finishDraft.bind(immer);\n \t/**\r\n \t * This function is actually a no-op, but can be used to cast an immutable type\r\n \t * to an draft type and make TypeScript happy\r\n \t *\r\n \t * @param value\r\n \t */\n\n \tfunction castDraft(value) {\n \t  return value;\n \t}\n \t/**\r\n \t * This function is actually a no-op, but can be used to cast a mutable type\r\n \t * to an immutable type and make TypeScript happy\r\n \t * @param value\r\n \t */\n\n \tfunction castImmutable(value) {\n \t  return value;\n \t}\n\n \texports.Immer = Immer;\n \texports.applyPatches = applyPatches;\n \texports.castDraft = castDraft;\n \texports.castImmutable = castImmutable;\n \texports.createDraft = createDraft;\n \texports.default = produce;\n \texports.enableAllPlugins = enableAllPlugins;\n \texports.enableES5 = enableES5;\n \texports.enableMapSet = enableMapSet;\n \texports.enablePatches = enablePatches;\n \texports.finishDraft = finishDraft;\n \texports.immerable = DRAFTABLE;\n \texports.isDraft = isDraft;\n \texports.isDraftable = isDraftable;\n \texports.nothing = NOTHING;\n \texports.original = original;\n \texports.produce = produce;\n \texports.produceWithPatches = produceWithPatches;\n \texports.setAutoFreeze = setAutoFreeze;\n \texports.setUseProxies = setUseProxies;\n\n \tObject.defineProperty(exports, '__esModule', { value: true });\n\n })));\n //# sourceMappingURL=immer.umd.development.js.map\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_Immer = module.exports.Immer;\n_applyPatches = module.exports.applyPatches;\n_castDraft = module.exports.castDraft;\n_castImmutable = module.exports.castImmutable;\n_createDraft = module.exports.createDraft;\n_default = module.exports.default;\n_enableAllPlugins = module.exports.enableAllPlugins;\n_enableES5 = module.exports.enableES5;\n_enableMapSet = module.exports.enableMapSet;\n_enablePatches = module.exports.enablePatches;\n_finishDraft = module.exports.finishDraft;\n_immerable = module.exports.immerable;\n_isDraft = module.exports.isDraft;\n_isDraftable = module.exports.isDraftable;\n_nothing = module.exports.nothing;\n_original = module.exports.original;\n_produce = module.exports.produce;\n_produceWithPatches = module.exports.produceWithPatches;\n_setAutoFreeze = module.exports.setAutoFreeze;\n_setUseProxies = module.exports.setUseProxies;\n___esModule = module.exports.__esModule;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}