{"version":3,"sources":["file:///C:/Users/YzY/Documents/chenille-main/assets/Scripts/Prefab/CountDownLabelPrefab.ts"],"names":["_decorator","Component","Sprite","SpriteFrame","ccclass","property","BoxSpritePrefab","type","Number","Boolean","displayName","CloseImage","OpenImage","FrontBoxType","FrontBoxStatus","start","IsChangeStatus","BoxStatus","ChangeStatus","IsChangeType","BoxType","ChangeType","SpriteOpenArr","SpriteCloseArr","ImageSprite","spriteFrame","update","deltaTime","Array"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAkBC,MAAAA,W,OAAAA,W;;;;;;;;;OAClD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;iCAEjBM,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACC;AAAN,OAAD,C,UAERH,QAAQ,CAACH,MAAD,C,UAERG,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAACE,OADC;AAENC,QAAAA,WAAW,EAAC;AAFN,OAAD,C,UAMRL,QAAQ,CAACF,WAAD,C,UAERE,QAAQ,CAACF,WAAD,C,2BAdb,MACaG,eADb,SACqCL,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAgB3CU,UAhB2C,GAgBlB,IAhBkB;AAAA,eAiB3CC,SAjB2C,GAiBnB,IAjBmB;AAAA,eAmB3CC,YAnB2C,GAmBrB,CAnBqB;AAAA,eAoB3CC,cApB2C,GAoBlB,IApBkB;AAAA;;AAoBb;AAC9BC,QAAAA,KAAK,GAAG,CACP;;AACDC,QAAAA,cAAc,GAAE;AACZ,cAAG,KAAKF,cAAL,IAAuB,KAAKG,SAA/B,EAAyC;AACrC,iBAAKC,YAAL,GADqC,CACjB;AACvB;AACJ;;AACDC,QAAAA,YAAY,GAAE;AACV,cAAG,KAAKN,YAAL,IAAqB,KAAKO,OAA7B,EAAqC;AACjC,iBAAKC,UAAL,GADiC,CACf;;AAClB,iBAAKH,YAAL,GAFiC,CAEb;AACvB;AACJ;;AACDG,QAAAA,UAAU,GAAE;AAER,eAAKT,SAAL,GAAiB,KAAKU,aAAL,CAAmB,KAAKF,OAAxB,CAAjB;AACA,eAAKT,UAAL,GAAkB,KAAKY,cAAL,CAAoB,KAAKH,OAAzB,CAAlB;AACA,eAAKP,YAAL,GAAoB,KAAKO,OAAzB;AACH;;AACDF,QAAAA,YAAY,GAAE;AACV,eAAKM,WAAL,CAAiBC,WAAjB,GAA+B,KAAKR,SAAL,GAAiB,KAAKL,SAAtB,GAAkC,KAAKD,UAAtE;AACA,eAAKG,cAAL,GAAsB,KAAKG,SAA3B;AACH;;AACDS,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,eAAKR,YAAL;AACA,eAAKH,cAAL;AACH;;AA/C0C,O;;;;;iBAE1B,C;;;;;;;iBAEI,I;;;;;;;iBAKD,K;;;;;;;iBAGUY,KAAK,E;;;;;;;iBAEJA,KAAK,E","sourcesContent":["import { _decorator, Component, Node, Sprite, CCObject, SpriteFrame, find, resources, Texture2D } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('BoxSpritePrefab')\r\nexport class BoxSpritePrefab extends Component {\r\n    @property({type:Number})\r\n    BoxType:number = 0;\r\n    @property(Sprite)\r\n    ImageSprite:Sprite = null;  \r\n    @property({\r\n        type:Boolean,    \r\n        displayName:\"宝箱状态\",  \r\n    }) \r\n    BoxStatus:Boolean = false;//默认为关闭状态\r\n\r\n    @property(SpriteFrame)\r\n    SpriteOpenArr:SpriteFrame[] = Array<SpriteFrame>();\r\n    @property(SpriteFrame)\r\n    SpriteCloseArr:SpriteFrame[] = Array<SpriteFrame>();\r\n\r\n    CloseImage:SpriteFrame = null;\r\n    OpenImage:SpriteFrame = null;\r\n\r\n    FrontBoxType:number = 0;//前一帧盒子类型\r\n    FrontBoxStatus:Boolean = true;//前一帧盒子状态\r\n    start() { \r\n    }\r\n    IsChangeStatus(){\r\n        if(this.FrontBoxStatus != this.BoxStatus){\r\n            this.ChangeStatus();//改变一下当前的状态\r\n        }\r\n    }\r\n    IsChangeType(){ \r\n        if(this.FrontBoxType != this.BoxType){\r\n            this.ChangeType();//改变一下当前的类型\r\n            this.ChangeStatus();//改变一下当前的状态\r\n        }\r\n    }\r\n    ChangeType(){\r\n        \r\n        this.OpenImage = this.SpriteOpenArr[this.BoxType];\r\n        this.CloseImage = this.SpriteCloseArr[this.BoxType];\r\n        this.FrontBoxType = this.BoxType;\r\n    }\r\n    ChangeStatus(){ \r\n        this.ImageSprite.spriteFrame = this.BoxStatus ? this.OpenImage : this.CloseImage;\r\n        this.FrontBoxStatus = this.BoxStatus;\r\n    }\r\n    update(deltaTime: number) {\r\n        this.IsChangeType();\r\n        this.IsChangeStatus();\r\n    }\r\n}"]}